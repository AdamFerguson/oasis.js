<!doctype html>

<html>
  <head>
    <script src="/oasis.js.html"></script>
  </head>
  <body>
    <script>
      var AccountService = Oasis.Service.extend({
      });

      var sandbox = Oasis.createSandbox({
        url: '//localhost:8001/samples/profile_viewer/profile_viewer.html',
        type: 'html',
        capabilities: [ 'account' ],
        // TODO: try services w/o capabilities
        services: {
        }
      });

      sandbox.connect('account').then(function(port) {
        port.onRequest('profile', function() {
          return { email: 'wycats@gmail.com' };
        });
      });

      document.body.appendChild(sandbox.el);
    </script>
  </body>
</html>
